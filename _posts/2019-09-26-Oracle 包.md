---
layout:     post
title:      Oracle 包(Package)
subtitle:   
date:       2018-09-26
author:     5只猫
header-img: img/article-bg.jpg
catalog: true
tags:
    - Oracle 数据库
---

# Oracle 包(Package)

## 前言
公司集体项目中，如果将sql写在代码中，不同的人更新代码都需要进行编译等等，非常混乱，所以将sql独立出来，目前用的是包。包中可以定义函数，存储过程，游标(?)等，可以很好的写逻辑。

## 结构
一个包由包规范(包定义,声明,Package....)和包体(Package body)组成。
* 包定义(PACKAGE)
```
CREATE [OR REPLACE] PACKAGE package_name
 
   {IS | AS}

   [公有数据类型定义]

   [公有游标声明]

   [公有变量、常量声明]

   [公有子程序声明]

END [package_name];
```
* 包主体(PACKAGE BODY)
```
CREATE [OR REPLACE] PACKAGE BODY package_name

    {IS | AS}

    [私有数据类型定义]

    [私有变量、常量声明]

    [私有子程序声明和定义]

    [公有子程序定义]

BEGIN

    执行部分(初始化部分)

END [package_name];
```
## 注意
* 包定义部分要在主体之前编译。
* 包主体中的函数等如果没有在包定义中包含，就属于包主体私有。
* is/as 的区别
* 在存储过程(PROCEDURE)和函数(FUNCTION)中没有区别；
* 在视图(VIEW)中只能用AS不能用IS；
* 在游标(CURSOR)中只能用IS不能用AS


## THANKS TO
* [Oracle 中包(Package)](https://www.cnblogs.com/xqzt/p/4875891.html)
* [Oracle中存储过程和函数中IS和AS的区别](https://blog.csdn.net/weixian52034/article/details/55272531)














