---
layout:     post
title:      页面路由&打包
subtitle:   
date:       2020-02-15
author:     5只猫
header-img: img/article-bg.jpg
catalog: true
tags:
    - 前端
---

# 单页应用

传统的网页点击页码跳转，会重新请求一次页面，页面会明显的刷新一次。

单页应用：第一次加载之后，页面之间切换并不引起页面刷新

# 1. React-Router

## 1.1 主要功能
> 根据路径找到对应应用内容的过程，就是 React-Router 的重要功能

## 1.2 注册路由

从上到下，匹配路由规则。

~~~
<Router>
    <Route path="/" component={App}>
      <Route path="home" component={Home} />
      <Route path="about" component={About} />
      <Route path="*" component={NotFound} />
    </Route>
</Router>
~~~

- Router: 路由的根节点
- Route：注册具体的路由规则;path为url路径;component为页面组件
- Link:  产生HTML 的链接元素，但是对这个链接元素的点击操作并不引起网页跳转，而是被 Link 截获操作，把目标路径发送给 Router 路由器。
- IndexRoute: 默认路由

## 1.3 路由嵌套

~~~
const App = ({children}) => {
  return (
    <div>
      <TopMenu />
      <div>{children}</div>
    </div>
  );
};
~~~

~~~
<Router history={history} createElement={createElement}>
    <Route path="/" component={App}>
      <IndexRoute component={Home} />
      <Route path="home" component={Home} />
      <Route path="about" component={About} />
      <Route path="*" component={NotFound} />
    </Route>
  </Router>
~~~


# webpack 打包

因为目前的js代码是以模块为单位划分的。在项目上线的时候，需要合并这些js(要不然加载太多js会爆炸)。有两种方式：

- 全部打包到到一起：bundle.js
- 切片打包(根据import export找到关联关系) PageA.bundle.js、common.js和bundle.js
